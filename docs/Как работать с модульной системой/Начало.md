НАЧАЛО:

# Сразу скажу, что эту документацию можно читать как последовательно, так и в любом порядке. 
# По концу каждого файла будет название следующего файла для прочтения.


Краткая инструкция по работе с модульной системой.

Теория:
RSM - Router Service Model.
Имена это стратегия взятая за основу при создании модулей.

Router - роуты модуля.
Service - сервисы модуля.
Model - модели модуля.

--------------------------------
```
router -> service 
```
Что такое Router ?
Это этакий посредник между клиентом и бизнес-логикой модуля.
Он принимает запросы от клиента, обрабатывает их и возвращает ответ.
Важно:
    - Он не должен содержать бизнес-логику. 
    - Он может валидировать данные.
    - Именно на этом слои мы обрабатываем ошибки
    - получает запросы от клиента и отправляет их на Service слой. 

--------------------------------
```
router <- service
```
Что такое Service ?
Это слой идущий после Router. 
Он содержит бизнес-логику модуля. И обрабатывает приходящие данные 
с Router слоя. Самое простое, это получать всех пользователей из базы данных. и отправлять их обратно на Router слой. 
Важно:
    - Он нечего не знает про Router. 
    - Данные он не валидирует. (Этим занимается Router)
    - Может делать все CRUD операции с данными. 
    - Может использовать модели. (Это будет ниже)

--------------------------------
```
service <- model
```

Что такое Model ?
Он содержит в себе логику работы с базой данных. 
В том числе и запросы к базе данных. Если в service мы вызываем функцию, 
которая получает всех пользователей из базы данных, то в модели будет запрос к базе данных.

Важно:
    - Он не должен содержать бизнес-логику. 
    - Он не должен содержать роуты. 
    - Он не должен содержать сервисы. 
    - Он должен содержать только модели. (Ну если надо то и операции над этими моделями)

--------------------------------

Если резюмировать, то:
    - Router - это слой, который принимает запросы от клиента и отправляет их на Service слой.
    - Service - это слой, который содержит бизнес-логику модуля.
    - Model - это слой, который содержит логику работы с базой данных.

И модель взаимодействие выглядит так:
``` Request:  -> Router -> Service -> Model -> Response ```
``` Response: -> Model -> Service -> Router ```

Иначе взаимодействовать нельзя.

--------------------------------
Тонкие моменты: 
    - Мы можем export функции из service слоя в другие модули. 
    - Мы можем export функции из model слоя в другие модули. 
    - Мы не можем export функции из router слоя в другие модули. (Только если в app для подключения модуля) 
    - Все эти export должны проходить через __init__.py файл.

--------------------------------

Окей. Давай теперь поговорим о не менее важных элементах модуля, а это config и test. 
Ну с тестами всё просто.
Там мы можем писать разные тесты, но обычно unit тесты.
Всё намного интересней с конфигом.
Далее будет пример, как создать конфигурацию в модуль.
Но если теоретически, то конфигурация это файл, который содержит в себе настройки и логирования всего модуля.

--------------------------------

Пример:

1. Создание модуля (например, `modules/<имя_модуля>`)
2. Создание файла `modules/<имя_модуля>/<имя_модуля>_config.py`
3. Создание файла `modules/<имя_модуля>/<имя_модуля>_routers.py`
4. Создание файла `modules/<имя_модуля>/<имя_модуля>_services.py`
5. Создание файла `modules/<имя_модуля>/<имя_модуля>_test.py`
6. Создание файла `modules/<имя_модуля>/<имя_модуля>_models.py`
7. Создание файла `modules/<имя_модуля>/__init__.py`

Окей, поздравляю, вы создали свой модуль! 
Но он всё ещё не подключен к проекту, и не имеет функционала. 
Давайте исправим это.

Начнём с корня всего модуля а это файл `modules/<имя_модуля>/__init__.py` и `modules/<имя_модуля>/<имя_модуля>_config.py`

В файле __init__.py мы export все функции и классы, которые мы хотим использовать в других модулях.

Пример __init__.py:
```python
from .<имя_модуля>_config import <фича_которую_мы_хотим_экспортировать>


__all__ = [
    "<фича_которую_мы_хотим_экспортировать>"
]
```

--------------------------------

Кстати, код который будет дальше в документации, можно 
использовать как шаблон для создания конфигурации для любого модуля. 
Прям можно копипастить подставлять свои значения и всё. С таким подходом,
в лучшем случае создание нового модуля займёт не более 10 минут. Для 
примера, для создания news модуля, у меня ушло ~10-15 минут, да это хоть и CRUD операции но всё же. 

--------------------------------

Следующий файл для прочтения "Конфиг модуля.md" >